{% load static %}
<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MISTRI INTERIOR DECOR</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,400&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        /* LUXURY COLOR VARIABLES */
        :root {
            --bg-color: #fdfcfb;      /* Warmer, Creamier White */
            --text-color: #1a1918;    /* Softer Black */
            --accent-color: #b08d55;  /* Antique Bronze/Gold */
        }
        
        body { font-family: 'Inter', sans-serif; background-color: var(--bg-color); color: var(--text-color); }
        .font-serif { font-family: 'Cormorant Garamond', serif; }
        
        /* Smooth Scroll Padding */
        html { scroll-padding-top: 100px; }

        /* Animations */
        .fade-up { opacity: 0; transform: translateY(40px); transition: opacity 1s cubic-bezier(0.16, 1, 0.3, 1), transform 1s cubic-bezier(0.16, 1, 0.3, 1); }
        .fade-up.visible { opacity: 1; transform: translateY(0); }
        
        /* Image Presentation Upgrade */
        .image-reveal { clip-path: inset(0 100% 0 0); transition: clip-path 1.2s cubic-bezier(0.77, 0, 0.175, 1); }
        .image-reveal.visible { clip-path: inset(0 0 0 0); }
        
        /* Nav Blur */
        .nav-blur { backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); background-color: rgba(255, 255, 255, 0.95) !important; }
        
        /* Cursor (Updated Color) */
        .cursor-dot { width: 6px; height: 6px; background-color: var(--accent-color); position: fixed; border-radius: 50%; z-index: 9999; pointer-events: none; transform: translate(-50%, -50%); }
        .cursor-outline { width: 30px; height: 30px; border: 1px solid rgba(176, 141, 85, 0.5); position: fixed; border-radius: 50%; z-index: 9999; pointer-events: none; transition: all 0.2s ease-out; transform: translate(-50%, -50%); }
        .cursor-outline.hover { width: 50px; height: 50px; background-color: rgba(176, 141, 85, 0.1); border-color: var(--accent-color); }
    </style>

</head>
<body class="text-stone-900 antialiased overflow-x-hidden flex flex-col min-h-screen">

    <div class="cursor-dot hidden md:block"></div>
    <div class="cursor-outline hidden md:block"></div>

    <nav id="navbar" class="fixed w-full z-50 transition-all duration-300 py-6 text-white border-b border-transparent">
        <div class="container mx-auto px-6 flex justify-between items-center">
            
            <a href="{% url 'home' %}" class="flex items-center gap-2 group">
                <img id="nav-logo" src="{% static 'images/logo.png' %}" alt="MISTRI" class="h-12 w-auto object-contain transition-all duration-300">
            </a>
            
            <div class="hidden md:flex space-x-8 items-center">
    <a href="{% url 'home' %}#work" class="text-xs uppercase tracking-[0.2em] hover:text-[#b08d55] transition-colors">Work</a>
    <a href="{% url 'home' %}#studio" class="text-xs uppercase tracking-[0.2em] hover:text-[#b08d55] transition-colors">Studio</a>
    <a href="{% url 'portfolio' %}" class="text-xs uppercase tracking-[0.2em] hover:text-[#b08d55] transition-colors">Portfolio</a>
    
    <a href="/#contact"
   class="px-6 py-2 hover:text-[#b08d55] transition-colors text-xs uppercase tracking-[0.2em]">
   Contact
</a>

</div>

            <button id="mobile-menu-btn" class="md:hidden">
                <i data-lucide="menu" class="w-6 h-6"></i>
            </button>
        </div>

        <div id="mobile-menu" class="hidden md:hidden bg-white text-stone-900 absolute w-full border-b border-stone-200 shadow-xl">
    <div class="container mx-auto px-6 py-8 flex flex-col space-y-6 text-center">
        <a href="{% url 'home' %}" class="font-serif text-2xl">Home</a>
        <a href="{% url 'portfolio' %}" class="font-serif text-2xl">Portfolio</a>
        <a href="/#contact" class="font-serif text-2xl">Contact</a>
    </div>
</div>
    </nav>

    {% if messages %}
    <div class="fixed top-24 left-1/2 transform -translate-x-1/2 z-[60] w-full max-w-md px-6">
        {% for message in messages %}
        <div class="bg-stone-900 text-white px-6 py-4 shadow-2xl text-center fade-up visible border-l-4 border-[#b08d55]">
            {{ message }}
        </div>
        {% endfor %}
    </div>
    {% endif %}

    <main class="flex-grow">
        {% block content %}{% endblock %}
    </main>

    <footer class="bg-stone-900 text-stone-400 py-20 px-6 border-t border-stone-800 mt-auto">
        <div class="container mx-auto">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-12 text-center md:text-left">
                
                <div class="space-y-4">
                    <h2 class="font-serif text-3xl text-white tracking-wide">MISTRI</h2>
                    <p class="text-sm leading-relaxed max-w-xs mx-auto md:mx-0">
                        Crafting bespoke interiors and timeless furniture for the modern home.
                    </p>
                </div>

                <div class="space-y-4">
                    <h3 class="text-white text-xs uppercase tracking-widest mb-6">Explore</h3>
                    <div class="flex flex-col space-y-3 text-sm">
                        <a href="{% url 'home' %}" class="hover:text-[#b08d55] transition-colors">Home</a>
                        <a href="{% url 'portfolio' %}" class="hover:text-[#b08d55] transition-colors">Portfolio</a>
                        <a href="{% url 'contact' %}" class="hover:text-[#b08d55] transition-colors">Contact</a>
                    </div>
                </div>

                <div class="space-y-4">
                    <h3 class="text-white text-xs uppercase tracking-widest mb-6">Visit Us</h3>
                    <p class="text-sm">Ahmedabad, Gujarat, India</p>
                    <p class="text-sm">hello@mistri.com</p>
                    <div class="flex justify-center md:justify-start gap-4 mt-4">
                        <a href="#" class="hover:text-white"><i data-lucide="instagram" class="w-5 h-5"></i></a>
                        <a href="#" class="hover:text-white"><i data-lucide="facebook" class="w-5 h-5"></i></a>
                    </div>
                </div>
            </div>

            <div class="border-t border-stone-800 mt-16 pt-8 text-center text-xs tracking-widest opacity-60">
                &copy; 2024 MISTRI INTERIOR DECOR. ALL RIGHTS RESERVED.
            </div>
        </div>
    </footer>

    <script>
        lucide.createIcons();

        // SCROLL EFFECT
        const navbar = document.getElementById('navbar');
        const navLogo = document.getElementById('nav-logo');
        
        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) {
                // Scrolled Down (Light Mode)
                navbar.classList.add('nav-blur', 'bg-white/95', 'shadow-sm', 'text-stone-900', 'border-stone-200');
                navbar.classList.remove('text-white', 'py-6', 'border-transparent');
                navbar.classList.add('py-4');
                
                // I removed the logic that forced the logo to black. 
                // Now it will stay its original color.
                
                // OPTIONAL: If you want to SWAP the image (e.g. White Logo -> Black Logo), uncomment below:
                // navLogo.src = "{% static 'images/logo-dark.png' %}";
                
            } else {
                // Top (Dark/Transparent Mode)
                navbar.classList.remove('nav-blur', 'bg-white/95', 'shadow-sm', 'text-stone-900', 'py-4', 'border-stone-200');
                navbar.classList.add('text-white', 'py-6', 'border-transparent');
                
                // OPTIONAL: Reset to original logo
                // navLogo.src = "{% static 'images/logo.png' %}";
            }
        });

        // Mobile Menu
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        mobileMenuBtn.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });

        // Animations
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.1 });
        document.querySelectorAll('.fade-up').forEach(el => observer.observe(el));

        // Cursor logic
        const cursorDot = document.querySelector('.cursor-dot');
        const cursorOutline = document.querySelector('.cursor-outline');
        if (window.matchMedia('(pointer: fine)').matches) {
            window.addEventListener('mousemove', (e) => {
                cursorDot.style.left = `${e.clientX}px`;
                cursorDot.style.top = `${e.clientY}px`;
                cursorOutline.animate({ left: `${e.clientX}px`, top: `${e.clientY}px` }, { duration: 500, fill: 'forwards' });
            });
            document.querySelectorAll('a, button').forEach(el => {
                el.addEventListener('mouseenter', () => cursorOutline.classList.add('hover'));
                el.addEventListener('mouseleave', () => cursorOutline.classList.remove('hover'));
            });
        }
    </script>
    
    {% block scripts %}{% endblock %}
</body>
</html>